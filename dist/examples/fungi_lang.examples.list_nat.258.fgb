Bundle { input: "decls\n{\n    /// Lists of natural numbers\n     type List =\n    (rec list . foralli (X, Y) : NmSet .\n     (+ Unit +\n      (exists (X1, X2) : NmSet | ((X1 % X2) = X : NmSet) . exists (Y1, Y2) :\n       NmSet | ((Y1 % Y2) = Y : NmSet) . x Nm [X1] x Nat x Ref [Y1]\n       (list [X2] [Y2])))) ;\n} let cons :\n(Thk [0] foralli (X1, X2) : NmSet . foralli (Y1, Y2) : NmSet . 0 Nm [X1] -> 0\n Nat -> 0 Ref [Y1] (List [X2] [Y2]) -> 0 F List [X1 % X2] [Y1 % Y2]) =\n{ ret thunk # n . # h . # t . ret roll inj2 pack (X1, X2, Y1, Y2) (n, h, t) }\nret 0", program: Der { ctx: Empty, dir: Synth, term: Decls(Doc("r\" Lists of natural numbers\"", Type("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Ident("Nat"), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), End)), Let("cons", AnnoC(Ret(ThunkAnon(Lam("n", Lam("h", Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))))))))))), Lift(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Ident("Nat"), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(Ident("List"), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(Ident("List"), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))))))))), Ret(Nat(0)))), clas: Ok(Cons(Lift(Prim(Nat)), WR(Empty, Empty))), rule: Decls([Bind(ItemDer { doc: Some("r\" Lists of natural numbers\""), qual: Type, var: "List", der: Der { ctx: Empty, dir: Synth, term: (), clas: Ok(Kind(NoParse("TODO-XXX-bitype.rs"))), rule: Type("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), vis: DerVis { tmfam: "Module", local_err: false } } })], Der { ctx: Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), dir: Synth, term: Let("cons", AnnoC(Ret(ThunkAnon(Lam("n", Lam("h", Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))))))))))), Lift(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Ident("Nat"), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(Ident("List"), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(Ident("List"), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))))))))), Ret(Nat(0))), clas: Ok(Cons(Lift(Prim(Nat)), WR(Empty, Empty))), rule: Let("cons", Der { ctx: Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), dir: Synth, term: AnnoC(Ret(ThunkAnon(Lam("n", Lam("h", Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))))))))))), Lift(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Ident("Nat"), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(Ident("List"), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(Ident("List"), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))))))))), clas: Ok(Cons(Lift(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty)))))))), WR(Empty, Empty))), rule: AnnoC(Der { ctx: Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), dir: Check(Cons(Lift(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty)))))))), WR(Empty, Empty))), term: Ret(ThunkAnon(Lam("n", Lam("h", Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))))))))))), clas: Ok(Cons(Lift(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty)))))))), WR(Empty, Empty))), rule: Ret(Der { ctx: Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), dir: Check(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty)))))))), term: ThunkAnon(Lam("n", Lam("h", Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t")))))))))))))), clas: Ok(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty)))))))), rule: ThunkAnon(Der { ctx: Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), dir: Check(ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))))))), term: Lam("n", Lam("h", Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))))))))), clas: Ok(Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), rule: Lam("n", Der { ctx: Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), dir: Check(Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), term: Lam("h", Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t")))))))))))), clas: Ok(Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), rule: Lam("h", Der { ctx: Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), dir: Check(Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), term: Lam("t", Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))))))), clas: Ok(Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), rule: Lam("t", Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), term: Ret(Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t")))))))))), clas: Ok(Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), rule: Ret(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), term: Roll(Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))))), clas: Ok(IdxApp(IdxApp(IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2")))))))))))), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("X1")), Subset(Var("X2"))] })), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }))), rule: Roll(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(IdxApp(IdxApp(IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2")))))))))))), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("X1")), Subset(Var("X2"))] })), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }))), term: Inj2(Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t")))))))), clas: Ok(IdxApp(IdxApp(IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2")))))))))))), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("X1")), Subset(Var("X2"))] })), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }))), rule: Inj2(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1~"), Var("X2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("X1")), Subset(Var("X2"))] }), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1~"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1~")), Prod(Prim(Nat), Ref(Var("Y1~"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2~")), Var("Y2~")))))))))), term: Pack(Var("X1"), Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))))), clas: Ok(Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1~"), Var("X2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("X1")), Subset(Var("X2"))] }), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1~"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1~")), Prod(Prim(Nat), Ref(Var("Y1~"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2~")), Var("Y2~")))))))))), rule: Pack(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Synth, term: Var("X1"), clas: Ok(NmSet), rule: Var("X1"), vis: DerVis { tmfam: "IdxTm", local_err: false } }, Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("X1")), Subset(Var("X2"))] }), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1~"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1~"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2~")), Var("Y2~"))))))))), term: Pack(Var("X2"), Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t")))))), clas: Ok(Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("X1")), Subset(Var("X2"))] }), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1~"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1~"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2~")), Var("Y2~"))))))))), rule: Pack(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Synth, term: Var("X2"), clas: Ok(NmSet), rule: Var("X2"), vis: DerVis { tmfam: "IdxTm", local_err: false } }, Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1~"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1~"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2~")))))))), term: Pack(Var("Y1"), Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t"))))), clas: Ok(Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1~"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1~"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2~")))))))), rule: Pack(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Synth, term: Var("Y1"), clas: Ok(NmSet), rule: Var("Y1"), vis: DerVis { tmfam: "IdxTm", local_err: false } }, Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Exists("Y2~", NmSet, Equiv(Apart(Var("Y1"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2~"))))))), term: Pack(Var("Y2"), Pair(Var("n"), Pair(Var("h"), Var("t")))), clas: Ok(Exists("Y2~", NmSet, Equiv(Apart(Var("Y1"), Var("Y2~")), NmSet(NmSet { cons: Some(Apart), terms: [Subset(Var("Y1")), Subset(Var("Y2"))] }), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2~"))))))), rule: Pack(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Synth, term: Var("Y2"), clas: Ok(NmSet), rule: Var("Y2"), vis: DerVis { tmfam: "IdxTm", local_err: false } }, Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2")))))), term: Pair(Var("n"), Pair(Var("h"), Var("t"))), clas: Ok(Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2")))))), rule: Pair(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Nm(Var("X1"))), term: Var("n"), clas: Ok(Nm(Var("X1"))), rule: Var("n"), vis: DerVis { tmfam: "Val", local_err: false } }, Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2"))))), term: Pair(Var("h"), Var("t")), clas: Ok(Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2"))))), rule: Pair(Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Prim(Nat)), term: Var("h"), clas: Ok(Prim(Nat)), rule: Var("h"), vis: DerVis { tmfam: "Val", local_err: false } }, Der { ctx: Var(Var(Var(IVar(IVar(IVar(IVar(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "X1", NmSet), "X2", NmSet), "Y1", NmSet), "Y2", NmSet), "n", Nm(Var("X1"))), "h", Prim(Nat)), "t", Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), dir: Check(Ref(Var("Y1"), IdxApp(IdxApp(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1~", NmSet, Tt, Exists("X2~", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1~", NmSet, Tt, Exists("Y2~", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))), Var("X2")), Var("Y2")))), term: Var("t"), clas: Ok(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2")))), rule: Var("t"), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }, Lift(Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))))))))), vis: DerVis { tmfam: "Exp", local_err: false } }, Der { ctx: Var(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "cons", Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty)))))))), dir: Synth, term: Ret(Nat(0)), clas: Ok(Cons(Lift(Prim(Nat)), WR(Empty, Empty))), rule: Ret(Der { ctx: Var(Def(Empty, "List", Type(Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2"))))))))))))))), "cons", Thk(Empty, ForallIdx("X1", NmSet, Tt, ForallIdx("X2", NmSet, Tt, ForallIdx("Y1", NmSet, Tt, ForallIdx("Y2", NmSet, Tt, Cons(Arrow(Nm(Var("X1")), Cons(Arrow(Prim(Nat), Cons(Arrow(Ref(Var("Y1"), IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Var("X2")), Var("Y2"))), Cons(Lift(IdxApp(IdxApp(IdentDef("List", Rec("list", IdxFn("X", NmSet, IdxFn("Y", NmSet, Sum(Unit, Exists("X1", NmSet, Tt, Exists("X2", NmSet, Equiv(Apart(Var("X1"), Var("X2")), Var("X"), NmSet), Exists("Y1", NmSet, Tt, Exists("Y2", NmSet, Equiv(Apart(Var("Y1"), Var("Y2")), Var("Y"), NmSet), Prod(Nm(Var("X1")), Prod(Prim(Nat), Ref(Var("Y1"), IdxApp(IdxApp(Var("list"), Var("X2")), Var("Y2")))))))))))))), Apart(Var("X1"), Var("X2"))), Apart(Var("Y1"), Var("Y2")))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty))), WR(Empty, Empty)))))))), dir: Synth, term: Nat(0), clas: Ok(Prim(Nat)), rule: Nat(0), vis: DerVis { tmfam: "Val", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }), vis: DerVis { tmfam: "Exp", local_err: false } }, traces: [] }